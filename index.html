<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    </head>
<body>
    <h1>private ip:</h1>
<h1 id="list"></h1>
    <br>
    <h1>public ip:</h1>
    <h1 id="ip"></h1>
    <h1>Your general location is:</h1>
    <h1 id="loc"></h1>
    <br>
    <h1>Other info:</h1>
    <h3 id="demo"></h3>
<script>
// NOTE: window.RTCPeerConnection is "not a constructor" in FF22/23
var RTCPeerConnection = /*window.RTCPeerConnection ||*/ window.webkitRTCPeerConnection || window.mozRTCPeerConnection;

if (RTCPeerConnection) (function () {
    var rtc = new RTCPeerConnection({iceServers:[]});
    if (1 || window.mozRTCPeerConnection) {      // FF [and now Chrome!] needs a channel/stream to proceed
        rtc.createDataChannel('', {reliable:false});
    };
    
    rtc.onicecandidate = function (evt) {
        // convert the candidate to SDP so we can run it through our general parser
        // see https://twitter.com/lancestout/status/525796175425720320 for details
        if (evt.candidate) grepSDP("a="+evt.candidate.candidate);
    };
    rtc.createOffer(function (offerDesc) {
        grepSDP(offerDesc.sdp);
        rtc.setLocalDescription(offerDesc);
    }, function (e) { console.warn("offer failed", e); });
    
    
    var addrs = Object.create(null);
    addrs["0.0.0.0"] = false;
    function updateDisplay(newAddr) {
        if (newAddr in addrs) return;
        else addrs[newAddr] = true;
        var displayAddrs = Object.keys(addrs).filter(function (k) { return addrs[k]; });
        document.getElementById('list').textContent = displayAddrs.join(" or perhaps ") || "n/a";
    }
    
    function grepSDP(sdp) {
        var hosts = [];
        sdp.split('\r\n').forEach(function (line) { // c.f. http://tools.ietf.org/html/rfc4566#page-39
            if (~line.indexOf("a=candidate")) {     // http://tools.ietf.org/html/rfc4566#section-5.13
                var parts = line.split(' '),        // http://tools.ietf.org/html/rfc5245#section-15.1
                    addr = parts[4],
                    type = parts[7];
                if (type === 'host') updateDisplay(addr);
            } else if (~line.indexOf("c=")) {       // http://tools.ietf.org/html/rfc4566#section-5.7
                var parts = line.split(' '),
                    addr = parts[2];
                updateDisplay(addr);
            }
        });
    }
})(); else {
    var ipc = "<code>ifconfig | grep inet | grep -v inet6 | cut -d\" \" -f2 | tail -n1</code>";
    document.getElementById('list').nextSibling.textContent = "In Chrome and Firefox your IP should display automatically, by the power of WebRTCskull.";
}
</script>
<script type="text/javascript" src="https://l2.io/ip.js?var=myip"></script>
    <script>
        function systemip(){
            document.getElementById("ip").innerText = myip;
            console.log(document.getElementById("ip").value);
        }
        systemip();
    </script>
<script>
$.get("https://ipinfo.io", function(response) {
    document.getElementById("loc").innerText = response.city +' '+ response.country;
}, "jsonp");
</script>
    <script>
document.getElementById("demo").innerHTML +="cookies enabled is:" + navigator.cookieEnabled +'<br><br>';
document.getElementById("demo").innerHTML +="java enabled is:" + navigator.javaEnabled() + '<br><br>';
document.getElementById("demo").innerHTML += "localStorage enabled is: " + Boolean(localStorage) + '<br><br>';
document.getElementById("demo").innerHTML +="product name is " + navigator.product + '<br><br>';
document.getElementById("demo").innerHTML += 'your appVersion is:' + navigator.appVersion + '<br><br>';
document.getElementById("demo").innerHTML += "your OS is " + navigator.platform + '<br><br>';
document.getElementById("demo").innerHTML += "your browser's language is: " + navigator.language + '<br><br>';
document.getElementById("demo").innerHTML += "the page you were just on was: " + document.referrer + '<br><br>';
document.getElementById("demo").innerHTML += "history length for this tab: " + history.length + '<br><br>';
document.getElementById("demo").innerHTML += "screen hight: " + screen.height + ' pixels<br><br>';
document.getElementById("demo").innerHTML += "screen width: " + screen.width + ' pixels<br>';
</script>
</body>
</html>
